name: venv
channels:
  - conda-forge
dependencies:
  # Install dependencies needed for MAX Serve
  - python=3.12

  # from MAX conda package deps
  - click >= 8.1
  - fastapi>=0.114.2,<0.115
  - gguf>=0.10
  - httpx>=0.27.2
  - huggingface_hub
  - numpy >=1.18,<2.0
  - opentelemetry-api
  - opentelemetry-exporter-otlp-proto-http >=1.27.0
  - opentelemetry-exporter-prometheus >= 0.48b0
  - opentelemetry-sdk >=1.27.0
  - pillow>=10
  - psutil>=5.9
  - pydantic-settings>=2.4.0,<3
  - pydantic>=2.4.0,<3
  - pyinstrument>=4.7.3
  - python-json-logger
  - sse-starlette>=2.1.3,<3
  - transformers>=4.45.2
  - typing_extensions
  - uvicorn>=0.30.5
  - uvloop>=0.21.0

  # other deps needed by MAX Serve
  - python_abi
  - sentencepiece
  - tokenizers
  - scipy

  - pip
  - pip:
      - faster-fifo
      - hf-transfer
      - prometheus-async
      - prometheus-client
      # PyTorch 2.4.1 with cuda support
      - torch == 2.4.1
      - torchvision == 0.19.1
      - torchaudio == 2.4.1
